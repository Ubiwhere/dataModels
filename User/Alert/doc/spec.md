# Alert data model

## Description
This entity models an alert generated by a user in a given location. This models could be used to send alerts related to traffic jam, accidents, weather conditions, high level of pollutants and so on.
The data model can be used to generate user or application notifications based on the alert information or to trigger other actions.

## Data model

A JSON Schema corresponding to this data model can be found [JSON Schema]
(https://github.com/smartsdk/dataModels/blob/master/User/Alert/schema.json)

+ `id` : Entity's unique identifier.

+ `type` : Entity type. It must be equal to `Alert`.

+ `alertType` : Define the type of alert (TrafficJam, CarAccident, WeatherCondition, Pollutants, Pollen, AsthmaAttacks)
    + Attribute type: text
    + Allowed values: (`TrafficJam`, `CarAccident`, `WeatherCondition`, `Pollutants`, `Pollen`, `AsthmaAttacks`)
    + Mandatory

+ `location` : Location of alert represented by a GeoJSON geometry.
    + Attribute type: `geo:json`.
    + Normative References: [https://tools.ietf.org/html/rfc7946](https://tools.ietf.org/html/rfc7946)
    + Mandatory

+ `address` : Civic address of `Alert`
    + Normative References: [https://schema.org/address](https://schema.org/address)
    + Mandatory if `location` is not present.

+ `eventObserved` : The date and time of this alert in ISO8601 UTCformat. It can be represented by an specific time instant or by an ISO8601 interval.
	+ Attribute type: DateTime or an ISO8601 interval represented as Text.
	+ Mandatory

+ `severity` : Describe the severity of Alert (`0` = None, `1` = Low, `2` = Medium, `3 = High)
	 + Attribute type: [Number](https://schema.org/Number)
	 + Optional

+ `description` : A description of alert (Traffic jam in Paseo de la Reforma. Emergency services at place).
	 + Attribute type: text
	 + Normative References: [https://schema.org/description](https://schema.org/description)
	 + Optional	 

+ `dateModified` : Last update timestamp of this entity.
    + Attribute type: [DateTime](https://schema.org/DateTime)
    + Optional

+ `dateCreated` : Entity's creation timestamp.
    + Attribute type: [DateTime](https://schema.org/DateTime)
    + Optional

+ `refEvent` : Provide an external reference to the event providing more details.
    + Attribute type: `string`
		+ Normative References: [https://schema.org/Event](https://schema.org/Event)
    + Optional

+ `refUser` : reference to the actual User to which this UserContext is associated. Within FIWARE, this reference could point to the end of the FIWARE Identity Manager, where FIWARE user profiles are stored.
    + Attribute type: `string`
    + Mandatory


## Examples of use

```
	{
		"id": "Alert:1",
		"type": "Alert",
		"alertType": "traffic jam",
		"location": {
			"type": "Point",
			"coordinates": [-3.712247222222222, 40.423852777777775]
		},
		"eventObserved": "2017-01-02T09:25:55.00Z",
		"severity": "3",
		"description": "Traffic jam in Paseo de la Reforma. Emergency services at place",
		"refUser": "https://account.lab.fiware.org/users/8"
	}
```

## Use it with a real service
T.B.D

## Open Issues
- [ ] Validate the model
- [ ] Look for related references (e.g. Waze APIs)
